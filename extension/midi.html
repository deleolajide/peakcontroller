<script>
    function onMIDISuccess( midiAccess ) {
      console.log( "MIDI ready!" );
      midi = midiAccess;  // store in the global (in real usage, would probably keep in an object instance)
    }

    function onMIDIFailure(msg) {
      console.log( "Failed to get MIDI access - " + msg );
    }

    navigator.requestMIDIAccess( { sysex: true } ).then( onMIDISuccess, onMIDIFailure );

</script>